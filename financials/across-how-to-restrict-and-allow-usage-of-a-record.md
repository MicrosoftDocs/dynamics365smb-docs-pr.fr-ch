---
title: Comment restreindre et autoriser l'utilisation d'un enregistrement | Microsoft Docs
description: "Si vous souhaitez restreindre l'utilisation d'un enregistrement à certaines activités, par exemple, jusqu'à ce qu'il ait été approuvé, vous pouvez incorporer deux réponses de flux de travail dans un flux de travail qui contrôle l'utilisation de l'enregistrement."
services: project-madeira
documentationcenter: 
author: SorenGP
ms.service: dynamics365-financials
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: 
ms.date: 07/01/2017
ms.author: sgroespe
ms.translationtype: HT
ms.sourcegitcommit: ba26b354d235981bd7291f9ac6402779f554ac7a
ms.openlocfilehash: 0dc8b3eeecfbf3f4a96985f4e4adaf0b3a5a21d0
ms.contentlocale: fr-ch
ms.lasthandoff: 11/10/2017

---
# <a name="how-to-restrict-and-allow-usage-of-a-record"></a><span data-ttu-id="35c46-103">Procédure : Restreindre et autoriser l'utilisation d'un enregistrement</span><span class="sxs-lookup"><span data-stu-id="35c46-103">How to: Restrict and Allow Usage of a Record</span></span>
<span data-ttu-id="35c46-104">Si vous souhaitez restreindre l'utilisation d'un enregistrement à certaines activités, par exemple, jusqu'à ce qu'il ait été approuvé, vous pouvez incorporer deux réponses de flux de travail dans un flux de travail qui contrôle l'utilisation de l'enregistrement.</span><span class="sxs-lookup"><span data-stu-id="35c46-104">If you want to restrict a record from being used in certain activities, for example, until the record has been approved, you can incorporate two workflow responses in a workflow that controls the usage of the record.</span></span> <span data-ttu-id="35c46-105">Une réponse de flux de travail limitera l'utilisation de l'enregistrement telle que définie par l'événement et les conditions du flux de travail.</span><span class="sxs-lookup"><span data-stu-id="35c46-105">One workflow response will restrict usage of the record as defined by the workflow event and conditions.</span></span> <span data-ttu-id="35c46-106">Une autre réponse de flux de travail autorisera l'utilisation de l'enregistrement telle que définie par l'événement et les conditions du flux de travail.</span><span class="sxs-lookup"><span data-stu-id="35c46-106">Another workflow response will allow usage of the record as defined by the workflow event and conditions.</span></span> <span data-ttu-id="35c46-107">Deux réponses existent dans la version générique de [!INCLUDE[d365fin](includes/d365fin_md.md)] à cet effet : **Restreindre l'utilisation d'un enregistrement**</span><span class="sxs-lookup"><span data-stu-id="35c46-107">Two responses exist in the generic version of [!INCLUDE[d365fin](includes/d365fin_md.md)] for this purpose: **Restrict usage of a record.**</span></span> <span data-ttu-id="35c46-108">et **Autoriser l'utilisation d'un enregistrement**.</span><span class="sxs-lookup"><span data-stu-id="35c46-108">and **Allow usage of a record.**.</span></span>

> [!NOTE]  
>  <span data-ttu-id="35c46-109">La version générique de [!INCLUDE[d365fin](includes/d365fin_md.md)] permet de restreindre la validation d'un enregistrement, son exportation pour paiement, et l'impression sous la forme d'un chèque.</span><span class="sxs-lookup"><span data-stu-id="35c46-109">The generic version of [!INCLUDE[d365fin](includes/d365fin_md.md)] offers support for restricting a record from being posted, from being exported as a payment, and from being printed as a check.</span></span> <span data-ttu-id="35c46-110">Pour prendre en charge d'autres restrictions, un partenaire Microsoft doit personnaliser le code de l'application.</span><span class="sxs-lookup"><span data-stu-id="35c46-110">To support other restrictions, a Microsoft partner must customize the application code.</span></span>  

> [!NOTE]  
>  <span data-ttu-id="35c46-111">La fonctionnalité de flux de travail pour restreindre et autoriser l'utilisation d'un enregistrement n'est pas liée à la fonctionnalité de blocage de la validation d'un enregistrement d'article, de client et de fournisseur.</span><span class="sxs-lookup"><span data-stu-id="35c46-111">The workflow functionality to restrict and allow records from being used is not related to the functionality to block item, customer, and vendor records from being posted.</span></span>

<span data-ttu-id="35c46-112">La procédure suivante explique comment restreindre la validation de commandes d'achat tant qu'elles n'ont pas été approuvées.</span><span class="sxs-lookup"><span data-stu-id="35c46-112">The following procedure describes how to restrict purchase orders from being posted until they have been approved.</span></span> <span data-ttu-id="35c46-113">Le nouveau flux de travail sera basé sur le modèle de Flux de travail approbation facture achat existant.</span><span class="sxs-lookup"><span data-stu-id="35c46-113">The new workflow will be based on the existing Purchase Invoice Approval Workflow workflow template.</span></span>  

## <a name="to-create-a-workflow-step-that-restricts-posting-of-unapproved-purchase-orders"></a><span data-ttu-id="35c46-114">Pour créer une étape de flux de travail qui limite la validation de commandes d'achat non approuvées</span><span class="sxs-lookup"><span data-stu-id="35c46-114">To create a workflow step that restricts posting of unapproved purchase orders</span></span>  
1. <span data-ttu-id="35c46-115">Sélectionnez l'icône ![Page ou état pour la recherche](media/ui-search/search_small.png "Page ou état pour la recherche"), entrez **Flux de travail**, puis sélectionnez le lien connexe.</span><span class="sxs-lookup"><span data-stu-id="35c46-115">Choose the ![Search for Page or Report](media/ui-search/search_small.png "Search for Page or Report icon") icon, enter **Workflows**, and then choose the related link.</span></span>  
2. <span data-ttu-id="35c46-116">Dans la fenêtre **Flux de travail**, créez un flux de travail nommé Flux de travail approbation commande achat.</span><span class="sxs-lookup"><span data-stu-id="35c46-116">In the **Workflows** window, create a new workflow named Purchase Order Approval Workflow.</span></span> <span data-ttu-id="35c46-117">Pour plus d'informations, reportez\-vous à [Procédure : créer des flux de travail](across-how-to-create-workflows.md).</span><span class="sxs-lookup"><span data-stu-id="35c46-117">For more information, see [How to: Create Workflows](across-how-to-create-workflows.md).</span></span>  
3. <span data-ttu-id="35c46-118">Choisissez l'action **Copier à partir du modèle de flux de travail**.</span><span class="sxs-lookup"><span data-stu-id="35c46-118">Choose the **Copy From Workflow Template** action.</span></span>  
4. <span data-ttu-id="35c46-119">Cliquez sur le champ **Code flux de travail origine**, puis, dans la fenêtre **Modèles flux de travail**, sélectionnez le modèle Flux de travail approbation facture achat.</span><span class="sxs-lookup"><span data-stu-id="35c46-119">Choose the **Source Workflow Code** field, and then, in the **Workflow Templates** window, choose the Purchase Invoice Approval Workflow workflow template.</span></span>  

     <span data-ttu-id="35c46-120">Remarquez que les deux premières étapes du flux de travail concernent la restriction, puis l'autorisation de l'utilisation des factures d'achat.</span><span class="sxs-lookup"><span data-stu-id="35c46-120">Notice that the first two workflow steps are about restricting and then allowing usage of purchase invoices.</span></span> <span data-ttu-id="35c46-121">Modifiez la condition d'événement de la première étape du nouveau flux de travail pour indiquer qu'il s'applique aux commandes d'achat.</span><span class="sxs-lookup"><span data-stu-id="35c46-121">Proceed to change the event condition on the first step of the new workflow to specify that it applies to purchase orders.</span></span>  
5. <span data-ttu-id="35c46-122">Dans le raccourci **Étapes du flux de travail**, cliquez sur le champ **Conditions d'événement**, puis, pour le filtre **Type document**, sélectionnez **Commande**.</span><span class="sxs-lookup"><span data-stu-id="35c46-122">On the **Workflow Steps** FastTab, choose the **Event Conditions** field, and then, for the **Document Type** filter, select **Order**.</span></span>  
6. <span data-ttu-id="35c46-123">Modifiez, supprimez ou ajoutez d'autres étapes de flux de travail pour prendre en charge un processus entreprise qui commence par restreindre la validation des commandes achat non approuvées.</span><span class="sxs-lookup"><span data-stu-id="35c46-123">Proceed to edit, delete, or add other workflow steps to fit a business process that begins by restricting unapproved purchase orders from being posted.</span></span>  

## <a name="see-also"></a><span data-ttu-id="35c46-124">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="35c46-124">See Also</span></span>  
<span data-ttu-id="35c46-125">[Procédure : créer des workflows](across-how-to-create-workflows.md) </span><span class="sxs-lookup"><span data-stu-id="35c46-125">[How to: Create Workflows](across-how-to-create-workflows.md) </span></span>  
[<span data-ttu-id="35c46-126">Flux de travail</span><span class="sxs-lookup"><span data-stu-id="35c46-126">Workflow</span></span>](across-workflow.md)   

