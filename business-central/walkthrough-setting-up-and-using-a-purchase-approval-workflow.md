---
title: Configuration et utilisation d'un flux d'approbation achat | Microsoft Docs
description: "Vous pouvez automatiser le processus d'approbation d'enregistrements nouveaux ou modifiés, par exemple de documents, de feuilles et de fiches client, en créant des flux de travail avec des étapes pour les approbations en question. Avant de créer des flux d'approbation, vous devez configurer un approbateur et un approbateur remplaçant pour chaque utilisateur approbation. Vous pouvez également définir les montants maximaux que les approbateurs sont qualifiés à approuver pour les enregistrements de vente et d'achat. Les demandes d'approbation et d'autres notifications peuvent être envoyées par e-mail ou note interne. Pour chaque configuration d'utilisateur d'approbation, vous pouvez également définir à quel moment ils reçoivent les notifications."
services: project-madeira
documentationcenter: 
author: SorenGP
ms.service: dynamics365-business-central
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: 
ms.date: 07/01/2017
ms.author: sgroespe
ms.translationtype: HT
ms.sourcegitcommit: d7fb34e1c9428a64c71ff47be8bcff174649c00d
ms.openlocfilehash: 825e901b4126dc1ba317527862eb459559ecb538
ms.contentlocale: fr-ch
ms.lasthandoff: 03/22/2018

---
# <a name="walkthrough-setting-up-and-using-a-purchase-approval-workflow"></a><span data-ttu-id="b0536-107">Procédure pas à pas : Configuration et utilisation d'un flux d'approbation achat</span><span class="sxs-lookup"><span data-stu-id="b0536-107">Walkthrough: Setting Up and Using a Purchase Approval Workflow</span></span>
<span data-ttu-id="b0536-108">Vous pouvez automatiser le processus d'approbation d'enregistrements nouveaux ou modifiés, par exemple de documents, de feuilles et de fiches client, en créant des flux de travail avec des étapes pour les approbations en question.</span><span class="sxs-lookup"><span data-stu-id="b0536-108">You can automate the process of approving new or changed records, such as documents, journal lines, and customer cards, by creating workflows with steps for the approvals in question.</span></span> <span data-ttu-id="b0536-109">Avant de créer des flux d'approbation, vous devez configurer un approbateur et un approbateur remplaçant pour chaque utilisateur approbation.</span><span class="sxs-lookup"><span data-stu-id="b0536-109">Before you create approval workflows, you must set up an approver and substitute approver for each approval user.</span></span> <span data-ttu-id="b0536-110">Vous pouvez également définir les montants maximaux que les approbateurs sont qualifiés à approuver pour les enregistrements de vente et d'achat.</span><span class="sxs-lookup"><span data-stu-id="b0536-110">You can also set approvers’ amount limits to define which sales and purchase records they are qualified to approve.</span></span> <span data-ttu-id="b0536-111">Les demandes d'approbation et d'autres notifications peuvent être envoyées par e-mail ou note interne.</span><span class="sxs-lookup"><span data-stu-id="b0536-111">Approval requests and other notifications can be sent as email or internal note.</span></span> <span data-ttu-id="b0536-112">Pour chaque configuration d'utilisateur d'approbation, vous pouvez également définir à quel moment ils reçoivent les notifications.</span><span class="sxs-lookup"><span data-stu-id="b0536-112">For each approval user setup, you can also set up when they receive notifications.</span></span>  

 <span data-ttu-id="b0536-113">Vous pouvez configurer et utiliser des workflows qui connectent des tâches de processus entreprise exécutées par différents utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="b0536-113">You can set up and use workflows that connect business-process tasks performed by different users.</span></span> <span data-ttu-id="b0536-114">Les tâches du système, telles que la validation automatique, peuvent être incluses comme étapes du workflow, précédées ou suivies des tâches de l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="b0536-114">System tasks, such as automatic posting, can be included as steps in workflows, preceded or followed by user tasks.</span></span> <span data-ttu-id="b0536-115">Demander et accorder une approbation pour créer des enregistrements sont des étapes classiques du workflow.</span><span class="sxs-lookup"><span data-stu-id="b0536-115">Requesting and granting approval to create new records are typical workflow steps.</span></span> <span data-ttu-id="b0536-116">Pour plus d'informations, voir [Flux de travail](across-workflow.md).</span><span class="sxs-lookup"><span data-stu-id="b0536-116">For more information, see [Workflow](across-workflow.md).</span></span>  

## <a name="about-this-walkthrough"></a><span data-ttu-id="b0536-117">À propos de cette procédure pas à pas</span><span class="sxs-lookup"><span data-stu-id="b0536-117">About This Walkthrough</span></span>  
<span data-ttu-id="b0536-118">Cette procédure pas à pas présente les tâches suivantes :</span><span class="sxs-lookup"><span data-stu-id="b0536-118">This walkthrough illustrates the following tasks:</span></span>  

-   <span data-ttu-id="b0536-119">Configuration des utilisateurs d'approbation (y compris la configuration d'un utilisateur dans Windows et dans [!INCLUDE[d365fin](includes/d365fin_md.md)]).</span><span class="sxs-lookup"><span data-stu-id="b0536-119">Setting up approval users (incl. setting up a user in Windows and in [!INCLUDE[d365fin](includes/d365fin_md.md)]).</span></span>  
-   <span data-ttu-id="b0536-120">Configuration des notification pour les utilisateurs approbation.</span><span class="sxs-lookup"><span data-stu-id="b0536-120">Setting up notifications for approval users.</span></span>  
-   <span data-ttu-id="b0536-121">Modification et activation d'un flux d'approbation.</span><span class="sxs-lookup"><span data-stu-id="b0536-121">Modifying and enabling an approval workflow.</span></span>  
-   <span data-ttu-id="b0536-122">Démarrage de la file projets qui distribue les notifications.</span><span class="sxs-lookup"><span data-stu-id="b0536-122">Starting the job queue that dispatches notifications.</span></span>  
-   <span data-ttu-id="b0536-123">Demande d'approbation d'une commande achat (Alicia).</span><span class="sxs-lookup"><span data-stu-id="b0536-123">Requesting approval of a purchase order, as Alicia.</span></span>  
-   <span data-ttu-id="b0536-124">Réception d'une notification, puis acceptation de la demande (Sean).</span><span class="sxs-lookup"><span data-stu-id="b0536-124">Receiving a notification and then approving the request, as Sean.</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="b0536-125">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="b0536-125">Prerequisites</span></span>  
<span data-ttu-id="b0536-126">Pour effectuer cette procédure pas à pas, vous aurez besoin de la société de démonstration CRONUS International Ltd.</span><span class="sxs-lookup"><span data-stu-id="b0536-126">To complete this walkthrough, you will need the CRONUS International Ltd. demonstration company.</span></span>

## <a name="story"></a><span data-ttu-id="b0536-127">Scénario</span><span class="sxs-lookup"><span data-stu-id="b0536-127">Story</span></span>  
<span data-ttu-id="b0536-128">Sean est super utilisateur chez CRONUS, sur son propre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="b0536-128">Sean is a super user at CRONUS on his own computer.</span></span>  

<span data-ttu-id="b0536-129">Il crée deux utilisateurs d’approbation.</span><span class="sxs-lookup"><span data-stu-id="b0536-129">He creates two approval users.</span></span> <span data-ttu-id="b0536-130">Le premier est Alicia, qui représente un agent d'achats.</span><span class="sxs-lookup"><span data-stu-id="b0536-130">One is Alicia who represents a purchasing agent.</span></span> <span data-ttu-id="b0536-131">L'autre, c'est lui-même, soit l'approbateur d'Alicia.</span><span class="sxs-lookup"><span data-stu-id="b0536-131">The other is himself representing Alicia’s approver.</span></span> <span data-ttu-id="b0536-132">Ensuite, Sean s'octroie des droits d'approbation pour un montant d'achat illimité et spécifie qu'il recevra les notifications par note interne dès qu'un événement approprié se produira.</span><span class="sxs-lookup"><span data-stu-id="b0536-132">Sean then gives himself unlimited purchase approval rights and specifies that he will receive notifications by internal note as soon as a relevant event occurs.</span></span> <span data-ttu-id="b0536-133">Enfin, Sean crée le flux d'approbation requis en tant que copie du modèle Flux de travail approbation commande achat existant, laisse toutes les conditions d'événement et options de réponse existantes inchangées, puis active le flux.</span><span class="sxs-lookup"><span data-stu-id="b0536-133">Last, Sean creates the required approval workflow as a copy of the existing Purchase Order Approval Workflow workflow template, leaves all existing event conditions and response options unchanged, and then enables the workflow.</span></span>  

<span data-ttu-id="b0536-134">Pour tester le flux d'approbation, Sean se connecte d'abord à [!INCLUDE[d365fin](includes/d365fin_md.md)] sous l'identité d'Alicia, puis demande l'approbation d'une commande achat.</span><span class="sxs-lookup"><span data-stu-id="b0536-134">To test the approval workflow, Sean first logs into [!INCLUDE[d365fin](includes/d365fin_md.md)] as Alicia, and then requests approval of a purchase order.</span></span> <span data-ttu-id="b0536-135">Ensuite, Sean se connecte en tant que lui-même, voit la note dans son Tableau de bord, suit le lien vers la demande d'approbation de la commande achat, et approuve la demande.</span><span class="sxs-lookup"><span data-stu-id="b0536-135">Sean then logs in as himself, sees the note on his Role Center, follows the link to the approval request for the purchase order, and approves the request.</span></span>  

## <a name="setting-up-the-sample-data"></a><span data-ttu-id="b0536-136">Configuration des exemples de données</span><span class="sxs-lookup"><span data-stu-id="b0536-136">Setting Up the Sample Data</span></span>  
<span data-ttu-id="b0536-137">Vous devez créer un nouvel utilisateur sur l'ordinateur local et dans [!INCLUDE[d365fin](includes/d365fin_md.md)] représentant Alicia, que vous sélectionnerez ultérieurement en tant qu'utilisateur d'approbation.</span><span class="sxs-lookup"><span data-stu-id="b0536-137">You must create a new user on the local computer and in [!INCLUDE[d365fin](includes/d365fin_md.md)] representing Alicia who you will later select as an approval user.</span></span> <span data-ttu-id="b0536-138">Votre propre compte d'utilisateur représentera Sean.</span><span class="sxs-lookup"><span data-stu-id="b0536-138">Your own user account will represent Sean.</span></span>  

### <a name="to-add-alicia-as-a-user-on-the-local-computer"></a><span data-ttu-id="b0536-139">Pour ajouter Alicia en tant qu'utilisateur sur l'ordinateur local</span><span class="sxs-lookup"><span data-stu-id="b0536-139">To add Alicia as a user on the local computer</span></span>  

1.  <span data-ttu-id="b0536-140">Choisissez **Démarrer**, dans la zone **Rechercher les programmes et fichiers**, saisissez **Modifier les utilisateurs et les groupes locaux**, puis sélectionnez le lien associé.</span><span class="sxs-lookup"><span data-stu-id="b0536-140">Choose **Start**, in the **Search programs and files** box, enter **Edit local users and groups**, and then choose the related link.</span></span>  
2.  <span data-ttu-id="b0536-141">Ouvrez le dossier **Utilisateurs**.</span><span class="sxs-lookup"><span data-stu-id="b0536-141">Open the **Users** folder.</span></span>  
3.  <span data-ttu-id="b0536-142">Sous l'onglet **Actions**, choisissez **Nouvel utilisateur**.</span><span class="sxs-lookup"><span data-stu-id="b0536-142">On the **Actions** tab, choose **New User**.</span></span>  
4.  <span data-ttu-id="b0536-143">Dans le champ **Nom utilisateur**, entrez Alicia.</span><span class="sxs-lookup"><span data-stu-id="b0536-143">In the **User Name** field, enter Alicia.</span></span>  
5.  <span data-ttu-id="b0536-144">Dans les champs **Mot de passe** et **Confirmer mot de passe**, entrez un mots de passe valide.</span><span class="sxs-lookup"><span data-stu-id="b0536-144">In the **Password** and **Confirm Password** fields, enter a valid password.</span></span>  
6.  <span data-ttu-id="b0536-145">Désactivez la case à cocher **L'utilisateur doit changer le mot de passe à la prochaine ouverture de session**.</span><span class="sxs-lookup"><span data-stu-id="b0536-145">Deselect the **User must change password at next logon** check box.</span></span>  
7.  <span data-ttu-id="b0536-146">Fermez la fenêtre **Utilisateurs et groupes locaux**.</span><span class="sxs-lookup"><span data-stu-id="b0536-146">Close the **Local Users and Groups** window.</span></span>  

### <a name="to-add-alicia-as-a-user-in-included365finincludesd365finmdmd"></a><span data-ttu-id="b0536-147">Pour ajouter Alicia en tant qu'utilisateur dans [!INCLUDE[d365fin](includes/d365fin_md.md)]</span><span class="sxs-lookup"><span data-stu-id="b0536-147">To add Alicia as a user in [!INCLUDE[d365fin](includes/d365fin_md.md)]</span></span>  
1.  <span data-ttu-id="b0536-148">Choisissez l'icône ![Page ou état pour la recherche](media/ui-search/search_small.png "icône Page ou état pour la recherche"), entrez **Utilisateurs**, puis sélectionnez le lien connexe.</span><span class="sxs-lookup"><span data-stu-id="b0536-148">Choose the ![Search for Page or Report](media/ui-search/search_small.png "Search for Page or Report icon") icon, enter **Users**, and then choose the related link.</span></span>  
2.  <span data-ttu-id="b0536-149">Dans la fenêtre **Utilisateurs Windows**, sous l'onglet **Accueil**, dans le groupe **Nouveau**, choisissez **Nouveau**.</span><span class="sxs-lookup"><span data-stu-id="b0536-149">In the **Windows Users** window, on the **Home** tab, in the **New** group, choose **New**.</span></span>  
3.  <span data-ttu-id="b0536-150">Dans la fenêtre **Fiche utilisateur**, dans le champ **Nom utilisateur**, saisissez Alicia.</span><span class="sxs-lookup"><span data-stu-id="b0536-150">In the **User Card** window, in the **User Name** field, enter Alicia.</span></span>  
4.  <span data-ttu-id="b0536-151">Dans le champ **Nom d'utilisateur Windows**, cliquez sur le bouton AssistEdit.</span><span class="sxs-lookup"><span data-stu-id="b0536-151">In the **Windows User Name** field, choose the AssistEdit button.</span></span>  
5.  <span data-ttu-id="b0536-152">Dans la fenêtre **Sélectionner un utilisateur ou un groupe**, dans le champ **Entrer les noms d'objet à sélectionner**, entrez Alicia, puis sélectionnez le bouton **Vérifier les noms**.</span><span class="sxs-lookup"><span data-stu-id="b0536-152">In the **Select User or Group**, window, in the **Enter the object name to select** field, enter Alicia, and then choose the **Check Names** button.</span></span>  
6.  <span data-ttu-id="b0536-153">Lorsque [ORDINATEUR]ALICIA s'affiche dans le champ, cliquez sur le bouton **OK**.</span><span class="sxs-lookup"><span data-stu-id="b0536-153">When [COMPUTER NAME]ALICIA appears in the field, choose the **OK** button.</span></span>  
7.  <span data-ttu-id="b0536-154">Dans le raccourci **Ensembles d'autorisations utilisateur**, dans le champ **Ensemble d'autorisations**, sélectionnez **SUPER**.</span><span class="sxs-lookup"><span data-stu-id="b0536-154">On the **User Permission Sets** FastTab, in the **Permission Set** field, select **SUPER**.</span></span>  
8.  <span data-ttu-id="b0536-155">Dans le champ **Société**, sélectionnez **CRONUS International Ltd.**</span><span class="sxs-lookup"><span data-stu-id="b0536-155">In the **Company** field, select **CRONUS International Ltd.**</span></span>  
9. <span data-ttu-id="b0536-156">Cliquez sur le bouton **OK**.</span><span class="sxs-lookup"><span data-stu-id="b0536-156">Choose the **OK** button.</span></span>  

## <a name="setting-up-approval-users"></a><span data-ttu-id="b0536-157">Configuration des utilisateurs approbation</span><span class="sxs-lookup"><span data-stu-id="b0536-157">Setting Up Approval Users</span></span>  
<span data-ttu-id="b0536-158">À l'aide de l'utilisateur Windows que vous venez de créer, configurez Alicia en tant qu'utilisateur approbation dont vous êtes l'approbateur.</span><span class="sxs-lookup"><span data-stu-id="b0536-158">Using the Windows user that you have just created, set Alicia up as an approval user whose approver is yourself.</span></span> <span data-ttu-id="b0536-159">Configurez vos droits d'approbation et spécifiez comment et quand être averti des demandes d'approbation.</span><span class="sxs-lookup"><span data-stu-id="b0536-159">Set up your approval rights and specify how and when you are notified of approval requests.</span></span>  

### <a name="to-set-up-yourself-and-alicia-as-approval-users"></a><span data-ttu-id="b0536-160">Pour configurer votre propre profil et celui d'Alicia en tant qu'utilisateurs approbation</span><span class="sxs-lookup"><span data-stu-id="b0536-160">To set up yourself and Alicia as approval users</span></span>  
1.  <span data-ttu-id="b0536-161">Choisissez l'icône ![Page ou état pour la recherche](media/ui-search/search_small.png "Page ou état pour la recherche"), entrez **Paramètres utilisateur approbation**, puis choisissez le lien associé.</span><span class="sxs-lookup"><span data-stu-id="b0536-161">Choose the ![Search for Page or Report](media/ui-search/search_small.png "Search for Page or Report icon") icon, enter **Approval User Setup**, and then choose the related link.</span></span>  
2.  <span data-ttu-id="b0536-162">Dans la fenêtre **Paramètres utilisateur approbation**, sous l'onglet **Accueil**, dans le groupe **Nouveau**, choisissez **Nouveau**.</span><span class="sxs-lookup"><span data-stu-id="b0536-162">In the **Approval User Setup** window, on the **Home** tab, in the **New** group, choose **New**.</span></span>  

    > [!NOTE]  
    >  <span data-ttu-id="b0536-163">Vous devez configurer un approbateur avant de pouvoir configurer des utilisateurs qui ont besoin de l'approbation de l'approbateur.</span><span class="sxs-lookup"><span data-stu-id="b0536-163">You must set up an approver before you can set up users who require that approver's approval.</span></span> <span data-ttu-id="b0536-164">Par conséquent, vous devez configurer votre propre profil avant de configurer celui d'Alicia.</span><span class="sxs-lookup"><span data-stu-id="b0536-164">Therefore, you must set up yourself before you set up Alicia.</span></span>  

3.  <span data-ttu-id="b0536-165">Configurez les deux utilisateurs approbation en renseignant les champs comme indiqué dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="b0536-165">Set up the two approval users by filling the fields as described in the following table.</span></span>  

    |<span data-ttu-id="b0536-166">Code utilisateur</span><span class="sxs-lookup"><span data-stu-id="b0536-166">User ID</span></span>|<span data-ttu-id="b0536-167">ID approbateur</span><span class="sxs-lookup"><span data-stu-id="b0536-167">Approver ID</span></span>|<span data-ttu-id="b0536-168">Montant illimité d'achat autorisé</span><span class="sxs-lookup"><span data-stu-id="b0536-168">Unlimited Purchase Approval</span></span>|  
    |-------------|-----------------|---------------------------------|  
    |<span data-ttu-id="b0536-169">[ORDINATEUR][VOUS]</span><span class="sxs-lookup"><span data-stu-id="b0536-169">[COMPUTER NAME][YOU]</span></span>||<span data-ttu-id="b0536-170">Sélectionné</span><span class="sxs-lookup"><span data-stu-id="b0536-170">Selected</span></span>|  
    |<span data-ttu-id="b0536-171">[ORDINATEUR]ALICIA</span><span class="sxs-lookup"><span data-stu-id="b0536-171">[COMPUTER NAME]ALICIA</span></span>|<span data-ttu-id="b0536-172">[ORDINATEUR][VOUS]</span><span class="sxs-lookup"><span data-stu-id="b0536-172">[COMPUTER NAME][YOU]</span></span>||  

## <a name="setting-up-notifications"></a><span data-ttu-id="b0536-173">Configuration de notifications</span><span class="sxs-lookup"><span data-stu-id="b0536-173">Setting Up Notifications</span></span>  
<span data-ttu-id="b0536-174">Spécifiez comment et quand être averti des demandes d'approbation.</span><span class="sxs-lookup"><span data-stu-id="b0536-174">Specify how and when you are notified of approval requests.</span></span>  

### <a name="to-set-up-how-and-when-you-are-notified"></a><span data-ttu-id="b0536-175">Pour spécifier comment et quand recevoir les notifications</span><span class="sxs-lookup"><span data-stu-id="b0536-175">To set up how and when you are notified</span></span>  
1.  <span data-ttu-id="b0536-176">Dans la fenêtre **Paramètres utilisateur approbation**, sélectionnez la ligne correspondant à vous-même, puis sous l'onglet **Accueil**, dans le groupe **Processus**, choisissez **Paramètres de notification**.</span><span class="sxs-lookup"><span data-stu-id="b0536-176">In the **Approval User Setup** window, select the line for yourself, and then on the **Home** tab, in the **Process** group, choose **Notification Setup**.</span></span>  
2.  <span data-ttu-id="b0536-177">Dans la fenêtre **Paramètres de notification**, dans le champ **Type de notification**, entrez **Approbation**.</span><span class="sxs-lookup"><span data-stu-id="b0536-177">In the **Notification Setup** window, in the **Notification Type** field, enter **Approval**.</span></span>  
3.  <span data-ttu-id="b0536-178">Cliquez sur le champ **Code modèle de notification**, puis sélectionnez le bouton **Avancé**.</span><span class="sxs-lookup"><span data-stu-id="b0536-178">Choose the **Notification Template Code** field, and then choose the **Advanced** button.</span></span>  
4.  <span data-ttu-id="b0536-179">Dans la fenêtre **Modèles de notification**, sous l'onglet **Accueil**, dans le groupe **Gérer**, choisissez **Modifier la liste**.</span><span class="sxs-lookup"><span data-stu-id="b0536-179">In the **Notification Templates** window, on the **Home** tab, in the **Manage** group, choose **Edit List**.</span></span>  
5.  <span data-ttu-id="b0536-180">Sur la ligne du modèle d'approbation, dans le champ **Mode de notification**, entrez **Note**.</span><span class="sxs-lookup"><span data-stu-id="b0536-180">On the line for the APPROVAL template, in the **Notification Method** field, enter **Note**.</span></span>  
6.  <span data-ttu-id="b0536-181">Cliquez sur le bouton **OK**.</span><span class="sxs-lookup"><span data-stu-id="b0536-181">Choose the **OK** button.</span></span>  
7.  <span data-ttu-id="b0536-182">Dans la fenêtre **Notification Setup**, sous l'onglet **Accueil**, dans le groupe **Processus**, choisissez **Tableau de notification**.</span><span class="sxs-lookup"><span data-stu-id="b0536-182">In the **Notification Setup** window, on the **Home** tab, in the **Process** group, choose **Notification Schedule**.</span></span>  
8.  <span data-ttu-id="b0536-183">Dans la fenêtre **Tableau de notification**, dans le champ **Récurrence**, sélectionnez **Immédiatement**.</span><span class="sxs-lookup"><span data-stu-id="b0536-183">In the **Notification Schedule** window, in the **Occurence** field, choose **Instantly**.</span></span>  
9. <span data-ttu-id="b0536-184">Cliquez sur le bouton **OK**.</span><span class="sxs-lookup"><span data-stu-id="b0536-184">Choose the **OK** button.</span></span>  

## <a name="creating-the-approval-workflow"></a><span data-ttu-id="b0536-185">Création d'un flux d'approbation</span><span class="sxs-lookup"><span data-stu-id="b0536-185">Creating the Approval Workflow</span></span>  
 <span data-ttu-id="b0536-186">Créez le flux d'approbation de commande d'achat en copiant les étapes du modèle de Flux de travail approbation commande achat.</span><span class="sxs-lookup"><span data-stu-id="b0536-186">Create the purchase order approval workflow by copying the steps from the Purchase Order Approval Workflow workflow template.</span></span> <span data-ttu-id="b0536-187">Laissez les étapes existantes du flux inchangées, puis activez le flux.</span><span class="sxs-lookup"><span data-stu-id="b0536-187">Leave the existing workflow steps unchanged, and then enable the workflow.</span></span>  

### <a name="to-create-and-enable-a-purchase-order-approval-workflow"></a><span data-ttu-id="b0536-188">Pour créer et activer un flux d'approbation de commande d'achat</span><span class="sxs-lookup"><span data-stu-id="b0536-188">To create and enable a purchase order approval workflow</span></span>  
1.  <span data-ttu-id="b0536-189">Sélectionnez l'icône ![Page ou état pour la recherche](media/ui-search/search_small.png "Page ou état pour la recherche"), entrez **Flux de travail**, puis sélectionnez le lien connexe.</span><span class="sxs-lookup"><span data-stu-id="b0536-189">Choose the ![Search for Page or Report](media/ui-search/search_small.png "Search for Page or Report icon") icon, enter **Workflows**, and then choose the related link.</span></span>  
2.  <span data-ttu-id="b0536-190">Dans la fenêtre **Flux de travail**, sous l'onglet **Actions**, dans le groupe **Général**, choisissez **Créer le flux de travail à partir du modèle**.</span><span class="sxs-lookup"><span data-stu-id="b0536-190">In the **Workflows** window, on the **Actions** tab, in the **General** group, choose **Create Workflow from Template**.</span></span>  
3.  <span data-ttu-id="b0536-191">Sous l'onglet **Actions**, dans le groupe **Général**, choisissez **Créer le flux de travail à partir du modèle**.</span><span class="sxs-lookup"><span data-stu-id="b0536-191">On the **Actions** tab, in the **General** group, choose **Create Workflow from Template**.</span></span> <span data-ttu-id="b0536-192">La fenêtre **Modèles flux de travail** s'ouvre.</span><span class="sxs-lookup"><span data-stu-id="b0536-192">The **Workflow Templates** window opens.</span></span>  
4.  <span data-ttu-id="b0536-193">Sélectionnez le modèle de flux de travail nommé Flux de travail approbation commande achat, puis choisissez le bouton **OK**.</span><span class="sxs-lookup"><span data-stu-id="b0536-193">Select the workflow template named Purchase Order Approval Workflow, and then choose the **OK** button.</span></span>  

    <span data-ttu-id="b0536-194">La fenêtre **Flux de travail** s'ouvre pour un nouveau flux de travail contenant toutes les informations du modèle sélectionné.</span><span class="sxs-lookup"><span data-stu-id="b0536-194">The **Workflow** window opens for a new workflow containing all the information of the selected template.</span></span> <span data-ttu-id="b0536-195">La valeur du champ **Code** est étendue avec « -01 » pour indiquer que ce premier flux de travail est créé à partir du modèle Flux de travail approbation commande achat.</span><span class="sxs-lookup"><span data-stu-id="b0536-195">The value in the **Code** field is extended with “-01” to indicate that this is the first workflow that is created from the Purchase Order Approval Workflow workflow template.</span></span>  
5.  <span data-ttu-id="b0536-196">Dans l'en-tête de la fenêtre **Flux de travail**, activez la case à cocher **Activé**.</span><span class="sxs-lookup"><span data-stu-id="b0536-196">On the header of the **Workflow** window, select the **Enabled** check box.</span></span>  

## <a name="starting-a-notification-job-queue"></a><span data-ttu-id="b0536-197">Démarrage de la file projets des notifications</span><span class="sxs-lookup"><span data-stu-id="b0536-197">Starting a Notification Job Queue</span></span>  
<span data-ttu-id="b0536-198">Assurez-vous que la file projets dans votre installation est configurée pour traiter les notifications du workflow.</span><span class="sxs-lookup"><span data-stu-id="b0536-198">Make sure that a job queue in your installation is set up to handle workflow notifications.</span></span>  

### <a name="to-start-the-notify-job-queue"></a><span data-ttu-id="b0536-199">Pour lancer la file projets NOTIFY</span><span class="sxs-lookup"><span data-stu-id="b0536-199">To start the NOTIFY job queue</span></span>  
1.  <span data-ttu-id="b0536-200">Sélectionnez l'icône ![Page ou état pour la recherche](media/ui-search/search_small.png "Page ou état pour la recherche"), entrez **File d'attente des travaux**, puis sélectionnez le lien connexe.</span><span class="sxs-lookup"><span data-stu-id="b0536-200">Choose the ![Search for Page or Report](media/ui-search/search_small.png "Search for Page or Report icon") icon, enter **Job Queues**, and then choose the related link.</span></span>  
2.  <span data-ttu-id="b0536-201">Dans la fenêtre **File d'attente des travaux**, sélectionnez la ligne correspondant à la file projets NOTIFY, puis sous l'onglet **Accueil**, dans le groupe **Processus**, choisissez **Démarrer la file projets**.</span><span class="sxs-lookup"><span data-stu-id="b0536-201">In the **Job Queues** window, select the line for the NOTIFY job queue, and then, on the **Home** tab, in the **Process** group, choose **Start Job Queue**.</span></span>  

## <a name="using-the-approval-workflow"></a><span data-ttu-id="b0536-202">Utilisation du flux d'approbation</span><span class="sxs-lookup"><span data-stu-id="b0536-202">Using the Approval Workflow</span></span>  
<span data-ttu-id="b0536-203">Utilisez le nouveau Flux de travail approbation commande achat en ouvrant une session dans [!INCLUDE[d365fin](includes/d365fin_md.md)] en tant qu'Alicia pour demander l'approbation d'une commande achat.</span><span class="sxs-lookup"><span data-stu-id="b0536-203">Use the new Purchase Order Approval Workflow workflow by first logging into [!INCLUDE[d365fin](includes/d365fin_md.md)] as Alicia to request approval of a purchase order.</span></span> <span data-ttu-id="b0536-204">Ensuite, connectez-vous en tant que vous-même, affichez la note dans le Tableau de bord, suivez le lien vers la demande d'approbation, puis approuvez la demande.</span><span class="sxs-lookup"><span data-stu-id="b0536-204">Then log in as yourself, view the note on the Role Center, follow the link to the approval request, and then approve the request.</span></span>  

<span data-ttu-id="b0536-205">Pour vous connecter à [!INCLUDE[d365fin](includes/d365fin_md.md)] en tant qu'utilisateur différent, utilisez la fonction **Exécuter en tant qu'utilisateur différent**.</span><span class="sxs-lookup"><span data-stu-id="b0536-205">To log into [!INCLUDE[d365fin](includes/d365fin_md.md)] as different users, you will use the **Run as different user** function.</span></span>  

### <a name="to-log-into-included365finincludesd365finmdmd-as-alicia"></a><span data-ttu-id="b0536-206">Pour vous connecter à [!INCLUDE[d365fin](includes/d365fin_md.md)] en tant qu'Alicia</span><span class="sxs-lookup"><span data-stu-id="b0536-206">To log into [!INCLUDE[d365fin](includes/d365fin_md.md)] as Alicia</span></span>  

1.  <span data-ttu-id="b0536-207">Pour le client Web [!INCLUDE[d365fin](includes/d365fin_md.md)], sur le bouton de lancement du navigateur Web, appuyez sur Maj + clic droit, puis choisissez **Exécuter en tant qu'utilisateur différent**.</span><span class="sxs-lookup"><span data-stu-id="b0536-207">For the [!INCLUDE[d365fin](includes/d365fin_md.md)] web client, on the browser launch button for the web page, press Shift + Right-Click, and then choose **Run as different user**.</span></span>  

    <span data-ttu-id="b0536-208">Pour le client Windows [!INCLUDE[d365fin](includes/d365fin_md.md)], sur le bouton de lancement du programme, appuyez sur Maj + clic droit, puis choisissez **Exécuter en tant qu'utilisateur différent**.</span><span class="sxs-lookup"><span data-stu-id="b0536-208">For the [!INCLUDE[d365fin](includes/d365fin_md.md)] Windows client, on the launch button for the program, press Shift + Right-Click, and then choose **Run as different user**.</span></span>  

2.  <span data-ttu-id="b0536-209">Dans la fenêtre **Sécurité Windows**, entrez [ORDINATEUR]ALICIA et le mot de passe requis.</span><span class="sxs-lookup"><span data-stu-id="b0536-209">In the **Windows Security** window, enter [COMPUTER NAME]ALICIA and the required password.</span></span>  

### <a name="to-request-approval-of-a-purchase-order-as-alicia"></a><span data-ttu-id="b0536-210">Pour demander l'approbation d'une commande achat en tant qu'Alicia</span><span class="sxs-lookup"><span data-stu-id="b0536-210">To request approval of a purchase order, as Alicia</span></span>  

1.  <span data-ttu-id="b0536-211">Sélectionnez l'icône ![Page ou état pour la recherche](media/ui-search/search_small.png "Page ou état pour la recherche"), entrez **Commandes achat**, puis sélectionnez le lien connexe.</span><span class="sxs-lookup"><span data-stu-id="b0536-211">Choose the ![Search for Page or Report](media/ui-search/search_small.png "Search for Page or Report icon") icon, enter **Purchase Orders**, and then choose the related link.</span></span>  
2.  <span data-ttu-id="b0536-212">Sélectionnez la ligne pour ouvrir la commande d'achat 104001, puis sous l'onglet **Accueil**, dans le groupe **Gestion**, choisissez **Modifier**.</span><span class="sxs-lookup"><span data-stu-id="b0536-212">Select the line for open purchase order 104001, and then on the **Home** tab, in the **Manage** group, choose **Edit**.</span></span>  
3.  <span data-ttu-id="b0536-213">Dans la fenêtre **Commande achat**, sous l'onglet **Actions**, dans le groupe **Approbation**, choisissez **Envoyer demande d'approbation**.</span><span class="sxs-lookup"><span data-stu-id="b0536-213">In the **Purchase Order** window, on the **Actions** tab, in the **Approval** group, choose **Send Approval Request**.</span></span>  

    <span data-ttu-id="b0536-214">Notez que la valeur du champ **Statut** est passée à **Approbation en attente**.</span><span class="sxs-lookup"><span data-stu-id="b0536-214">Notice that the value in the **Status** field has changed to **Pending Approval**.</span></span>  

4.  <span data-ttu-id="b0536-215">Fermez [!INCLUDE[d365fin](includes/d365fin_md.md)].</span><span class="sxs-lookup"><span data-stu-id="b0536-215">Close [!INCLUDE[d365fin](includes/d365fin_md.md)].</span></span>  

### <a name="to-approve-the-purchase-order-as-sean"></a><span data-ttu-id="b0536-216">Pour approuver la commande achat en tant que Sean</span><span class="sxs-lookup"><span data-stu-id="b0536-216">To approve the purchase order, as Sean</span></span>  

1.  <span data-ttu-id="b0536-217">Ouvrez [!INCLUDE[d365fin](includes/d365fin_md.md)] normalement.</span><span class="sxs-lookup"><span data-stu-id="b0536-217">Open [!INCLUDE[d365fin](includes/d365fin_md.md)] as you generally do.</span></span> <span data-ttu-id="b0536-218">Le programme s'ouvre avec vous-même en tant qu'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="b0536-218">The program will open with you as the user.</span></span>  
2.  <span data-ttu-id="b0536-219">Dans le Tableau de bord, dans la fenêtre **Mes notifications**, recherchez une nouvelle note d'Alicia.</span><span class="sxs-lookup"><span data-stu-id="b0536-219">On the Role Center, in the **My Notifications** window, look for a new note from Alicia.</span></span>  

    > [!NOTE]  
    >  <span data-ttu-id="b0536-220">Bien que la récurrence de notification soit définie sur **Immédiatement**, la note arrivera environ une minute après l'envoi de la demande d'approbation par Alicia.</span><span class="sxs-lookup"><span data-stu-id="b0536-220">Although the notification recurrence is set to **Instantly**, the note will arrive approximately one minute after Alicia sent the approval request.</span></span> <span data-ttu-id="b0536-221">Ceci est dû à la fréquence de récurrence par défaut de la fonctionnalité file projets.</span><span class="sxs-lookup"><span data-stu-id="b0536-221">This is due to the default recurrence frequency of the Job Queue feature.</span></span>  

3.  <span data-ttu-id="b0536-222">Lorsque la note s'affiche dans la fenêtre **Mes notifications**, sélectionnez la valeur **Écriture approbation : XX, XX** dans le champ **Page**.</span><span class="sxs-lookup"><span data-stu-id="b0536-222">When the note appears in the **My Notifications** window, choose the **Approval Entry: XX, XX** value in the **Page** field.</span></span> <span data-ttu-id="b0536-223">La fenêtre **Demandes à approuver** s'ouvre avec la demande de commande d'achat d'Alicia en surbrillance.</span><span class="sxs-lookup"><span data-stu-id="b0536-223">The **Requests to Approve** window opens with Alicia’s request for the purchase order highlighted.</span></span>  
4.  <span data-ttu-id="b0536-224">Dans le fenêtre **Demandes à approuver**, sous l'onglet **Accueil**, dans le groupe **Traitement**, choisissez **Approuver**.</span><span class="sxs-lookup"><span data-stu-id="b0536-224">In the **Requests to Approve** window, on the **Home** tab, in the **Process** group, choose **Approve**.</span></span>  

    <span data-ttu-id="b0536-225">La valeur du champ **Statut** de la commande d'achat d'Alicia passe à **Lancé**.</span><span class="sxs-lookup"><span data-stu-id="b0536-225">The value in the **Status** field on Alicia’s purchase order changes to **Released**.</span></span>  

<span data-ttu-id="b0536-226">Vous venez de configurer et tester un flux de travail d'approbation simple incluant les deux premières étapes du Flux de travail approbation commande achat.</span><span class="sxs-lookup"><span data-stu-id="b0536-226">You have now set up and tested a simple approval workflow based on the first two steps of the Purchase Order Approval Workflow workflow.</span></span> <span data-ttu-id="b0536-227">Vous pouvez facilement étendre ce flux pour valider automatiquement la commande d'achat d'Alicia lorsque c'est Sean qui l'approuve.</span><span class="sxs-lookup"><span data-stu-id="b0536-227">You can easily extend this workflow to automatically post Alicia’s purchase order when Sean approves it.</span></span> <span data-ttu-id="b0536-228">Pour cela, vous devez activer le Flux de travail facture achat, dans lequel la réponse à une facture d'achat lancée est de la valider.</span><span class="sxs-lookup"><span data-stu-id="b0536-228">To do this, you must enable the Purchase Invoice Workflow workflow, in which the response to a released purchase invoice is to post it.</span></span> <span data-ttu-id="b0536-229">Vous devez d'abord modifier la condition d'événement de la première étape du flux (achat) en remplaçant **Facturer** par **Commander**.</span><span class="sxs-lookup"><span data-stu-id="b0536-229">First you must change the event condition on the first workflow step from (purchase) **Invoice** to **Order**.</span></span>  

<span data-ttu-id="b0536-230">La version [!INCLUDE[d365fin](includes/d365fin_md.md)] générique inclut un certain nombre de modèles de flux de travail pour les scénarios pris en charge par le code d'application.</span><span class="sxs-lookup"><span data-stu-id="b0536-230">The generic version [!INCLUDE[d365fin](includes/d365fin_md.md)] includes a number of workflow templates for scenarios that are supported by the application code.</span></span> <span data-ttu-id="b0536-231">La plupart concernent des flux d'approbation.</span><span class="sxs-lookup"><span data-stu-id="b0536-231">Most of these are for approval workflows.</span></span> <span data-ttu-id="b0536-232">Pour plus d'informations, voir Modèles flux de travail.</span><span class="sxs-lookup"><span data-stu-id="b0536-232">For more information, see Workflow Templates.</span></span>  

<span data-ttu-id="b0536-233">Définissez les variations des flux de travail en renseignant les champs des lignes à partir des listes fixes de valeurs d'événement et de réponse qui sont les scénarios pris en charge par le code d'application.</span><span class="sxs-lookup"><span data-stu-id="b0536-233">You define variations of workflows by filling fields on workflow lines from fixed lists of event and response values representing scenarios that are supported by the application code.</span></span> <span data-ttu-id="b0536-234">Pour plus d'informations, voir [Créer des flux de travail](across-how-to-create-workflows.md).</span><span class="sxs-lookup"><span data-stu-id="b0536-234">For more information, see [Create Workflows](across-how-to-create-workflows.md).</span></span>  

<span data-ttu-id="b0536-235">Si un scénario d'entreprise requiert un événement ou une réponse de workflow qui n'est pas pris en charge, un partenaire Microsoft doit l'implémenter en personnalisant le code de l'application.</span><span class="sxs-lookup"><span data-stu-id="b0536-235">If a business scenario requires a workflow event or response that is not supported, a Microsoft partner must implement them by customizing the application code.</span></span> <span data-ttu-id="b0536-236">Pour plus d'informations, voir [Procédure pas à pas : implémentation de nouveaux événements et réponses de flux de travail](/dynamics-nav/Walkthrough--Implementing-New-Workflow-Events-and-Responses) dans l'Aide destinée aux développeurs et aux professionnels de l'informatique.</span><span class="sxs-lookup"><span data-stu-id="b0536-236">For more information, see [Walkthrough: Implementing New Workflow Events and Responses](/dynamics-nav/Walkthrough--Implementing-New-Workflow-Events-and-Responses) in the developer and IT-pro help.</span></span>  

## <a name="see-also"></a><span data-ttu-id="b0536-237">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="b0536-237">See Also</span></span>  
<span data-ttu-id="b0536-238">[Configurer des utilisateurs d'approbation](across-how-to-set-up-approval-users.md) </span><span class="sxs-lookup"><span data-stu-id="b0536-238">[Set Up Approval Users](across-how-to-set-up-approval-users.md) </span></span>  
<span data-ttu-id="b0536-239">[Configuration de notifications de workflow](across-setting-up-workflow-notifications.md) </span><span class="sxs-lookup"><span data-stu-id="b0536-239">[Setting Up Workflow Notifications](across-setting-up-workflow-notifications.md) </span></span>  
<span data-ttu-id="b0536-240">[Créer des workflows](across-how-to-create-workflows.md) </span><span class="sxs-lookup"><span data-stu-id="b0536-240">[Create Workflows](across-how-to-create-workflows.md) </span></span>  
<span data-ttu-id="b0536-241">[Utilisation des flux d'approbation](across-how-use-approval-workflows.md) </span><span class="sxs-lookup"><span data-stu-id="b0536-241">[Use Approval Workflows](across-how-use-approval-workflows.md) </span></span>  
[<span data-ttu-id="b0536-242">Flux de travail</span><span class="sxs-lookup"><span data-stu-id="b0536-242">Workflow</span></span>](across-workflow.md)

