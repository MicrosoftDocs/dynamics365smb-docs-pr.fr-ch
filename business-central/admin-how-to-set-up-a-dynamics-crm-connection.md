---
title: Se connecter à Microsoft Dataverse | Microsoft Docs
description: Vous pouvez intégrer d’autres applications à Business Central au moyen de Microsoft Dataverse.
author: bholtorf
ms.service: dynamics365-business-central
ms.topic: conceptual
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: ''
ms.date: 11/20/2020
ms.author: bholtorf
ms.openlocfilehash: 47a042f1825eca548ecbf08c6901e5af26cbeb43
ms.sourcegitcommit: 35f7e24c301926b39094aa64fe608afd04fdb8e1
ms.translationtype: HT
ms.contentlocale: fr-CH
ms.lasthandoff: 03/10/2021
ms.locfileid: "5573416"
---
# <a name="connect-to-microsoft-dataverse"></a><span data-ttu-id="65d54-103">Se connecter à Microsoft Dataverse</span><span class="sxs-lookup"><span data-stu-id="65d54-103">Connect to Microsoft Dataverse</span></span>
[!INCLUDE[prod_short](includes/cc_data_platform_banner.md)]

<span data-ttu-id="65d54-104">Cette rubrique décrit comment configurer une connexion entre [!INCLUDE[prod_short](includes/prod_short.md)] et [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="65d54-104">This topic describes how to set up a connection between [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span> <span data-ttu-id="65d54-105">En règle générale, les entreprises créent la connexion pour intégrer et synchroniser des données avec une autre application métier Dynamics 365 telle que [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="65d54-105">Typically, businesses create the connection to integrate and synchronize data with another Dynamics 365 business app, such as [!INCLUDE[crm_md](includes/crm_md.md)].</span></span>  

## <a name="before-you-start"></a><span data-ttu-id="65d54-106">Avant de commencer</span><span class="sxs-lookup"><span data-stu-id="65d54-106">Before You Start</span></span>

<span data-ttu-id="65d54-107">Avant de créer la connexion, quelques informations doivent être préparées :</span><span class="sxs-lookup"><span data-stu-id="65d54-107">There are a few pieces of information to have ready before you create the connection:</span></span>  

* <span data-ttu-id="65d54-108">L’URL pour l’environnement [!INCLUDE[cds_long_md](includes/cds_long_md.md)] auquel vous souhaitez vous connecter.</span><span class="sxs-lookup"><span data-stu-id="65d54-108">The URL for the [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environment that you want to connect to.</span></span> <span data-ttu-id="65d54-109">Si vous utilisez le guide de configuration assistée **Paramétrage de la connexion Dataverse** pour créer la connexion, nous découvrirons vos environnements, mais vous pouvez également saisir l’URL d’un autre environnement dans votre abonné.</span><span class="sxs-lookup"><span data-stu-id="65d54-109">If you use the **Dataverse Connection Setup** assisted setup guide to create the connection we will discover your environments, but you can also enter the URL of another environment in your tenant.</span></span>  
* <span data-ttu-id="65d54-110">Le nom d’utilisateur et le mot de passe d’un compte ayant les autorisations administrateur dans [!INCLUDE[prod_short](includes/prod_short.md)] et [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="65d54-110">The user name and password of an account that has administrator permissions in [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span>  
* <span data-ttu-id="65d54-111">Si vous avez une vague de lancement 1 de 2020 [!INCLUDE[prod_short](includes/prod_short.md)] sur site, version 16.5, lisez l’article [Quelques problèmes connus](/dynamics365/business-central/dev-itpro/upgrade/known-issues#wrong-net-assemblies-for-external-connected-services).</span><span class="sxs-lookup"><span data-stu-id="65d54-111">If you have an on-premises [!INCLUDE[prod_short](includes/prod_short.md)] 2020 release wave 1, version 16.5, read the [Some Known Issues](/dynamics365/business-central/dev-itpro/upgrade/known-issues#wrong-net-assemblies-for-external-connected-services) article.</span></span> <span data-ttu-id="65d54-112">Vous devrez effectuer la solution de contournement décrite avant de pouvoir créer votre connexion à [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="65d54-112">You'll have to complete the described workaround before you can create your connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span>

> [!IMPORTANT]
> <span data-ttu-id="65d54-113">Votre environnement [!INCLUDE[cds_long_md](includes/cds_long_md.md)] ne doit pas être en mode Administration.</span><span class="sxs-lookup"><span data-stu-id="65d54-113">Your [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environment must not be in Administration mode.</span></span> <span data-ttu-id="65d54-114">Le mode Administration entraînera l’échec de la connexion car le compte d’utilisateur d’intégration pour la connexion ne dispose pas des autorisations d’administrateur.</span><span class="sxs-lookup"><span data-stu-id="65d54-114">Administration mode will cause the connection to fail because the integration user account for the connection does not have administrator permissions.</span></span> <span data-ttu-id="65d54-115">Pour plus d’informations, voir [Mode Administration](/power-platform/admin/admin-mode).</span><span class="sxs-lookup"><span data-stu-id="65d54-115">For more information, see [Administration mode](/power-platform/admin/admin-mode).</span></span>

> [!Note]
> <span data-ttu-id="65d54-116">Ces étapes décrivent la procédure pour la version en ligne de [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="65d54-116">These steps describe the procedure for [!INCLUDE[prod_short](includes/prod_short.md)] online.</span></span>
> <span data-ttu-id="65d54-117">Si vous utilisez [!INCLUDE[prod_short](includes/prod_short.md)] sur site et que vous n’utilisez pas de compte Azure Active Directory pour vous connecter à [!INCLUDE [cds_long_md](includes/cds_long_md.md)], vous devez également spécifier un nom d’utilisateur et un mot de passe d’un compte d’utilisateur pour l’intégration.</span><span class="sxs-lookup"><span data-stu-id="65d54-117">If you are using [!INCLUDE[prod_short](includes/prod_short.md)] on-premises and are not using Azure Active Directory account to connect to [!INCLUDE [cds_long_md](includes/cds_long_md.md)], you must also specify a user name and password of a user account for the integration.</span></span> <span data-ttu-id="65d54-118">Ce compte est appelé le compte « d’utilisateur d’intégration ».</span><span class="sxs-lookup"><span data-stu-id="65d54-118">This account is referred to as the "integration user" account.</span></span> <span data-ttu-id="65d54-119">Si vous utilisez un compte Azure Active Directory, le compte d’utilisateur d’intégration n’est pas requis ou affiché.</span><span class="sxs-lookup"><span data-stu-id="65d54-119">If you are using an Azure Active Directory account the integration user account is not required or displayed.</span></span> <span data-ttu-id="65d54-120">L’utilisateur d’intégration sera configuré automatiquement et ne nécessite pas de licence.</span><span class="sxs-lookup"><span data-stu-id="65d54-120">The integration user will be set up automatically and does not require a license.</span></span>

## <a name="set-up-a-connection-to-cds_long_md"></a><span data-ttu-id="65d54-121">Configurer une connexion vers [!INCLUDE[cds_long_md](includes/cds_long_md.md)]</span><span class="sxs-lookup"><span data-stu-id="65d54-121">Set Up a Connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)]</span></span>

<span data-ttu-id="65d54-122">Pour tous les types d’authentification autres que l’authentification Microsoft 365, configurez votre connexion à [!INCLUDE[cds_long_md](includes/cds_long_md.md)] sur la page **Paramétrage de la connexion Dataverse**.</span><span class="sxs-lookup"><span data-stu-id="65d54-122">For all authentication types other than Microsoft 365 authentication, you set up your connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)] on the **Dataverse Connection Setup** page.</span></span> <span data-ttu-id="65d54-123">Pour l’authentification Microsoft 365, il est recommandé d’utiliser le guide de configuration assistée **Configurer la connexion Dataverse**.</span><span class="sxs-lookup"><span data-stu-id="65d54-123">For Microsoft 365 authentication, we recommend that you use the **Dataverse Connection Setup** assisted setup guide.</span></span> <span data-ttu-id="65d54-124">Le guide facilite la configuration de la connexion et spécifie les fonctions avancées telles que le modèle de propriété et la synchronisation initiale.</span><span class="sxs-lookup"><span data-stu-id="65d54-124">The guide makes it easier to set up the connection and specify advanced features, such as the ownership model and initial synchronization.</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="65d54-125">Pendant la configuration de la connexion à [!INCLUDE[cds_long_md](includes/cds_long_md.md)], l’administrateur sera invité à accorder les autorisations suivantes à l’application Azure enregistrée nommée [!INCLUDE[prod_short](includes/prod_short.md)] Intégration à [!INCLUDE[cds_long_md](includes/cds_long_md.md)] :</span><span class="sxs-lookup"><span data-stu-id="65d54-125">During the setup of the connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)], the administrator will be asked to give following permissions to a registered Azure application named [!INCLUDE[prod_short](includes/prod_short.md)] Integration to [!INCLUDE[cds_long_md](includes/cds_long_md.md)]:</span></span>
>
> * <span data-ttu-id="65d54-126">**Accédez à [!INCLUDE[cds_long_md](includes/cds_long_md.md)] étant donné que votre** autorisation est nécessaire afin que [!INCLUDE[prod_short](includes/prod_short.md)] puisse, au nom de l’administrateur, créer automatiquement un utilisateur d’application d’intégration [!INCLUDE[prod_short](includes/prod_short.md)] sans licence non interactive, attribuer des rôles de sécurité à cet utilisateur et déployer [!INCLUDE[prod_short](includes/prod_short.md)] la solution d’intégration à [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="65d54-126">**Access [!INCLUDE[cds_long_md](includes/cds_long_md.md)] as you** permission is needed so [!INCLUDE[prod_short](includes/prod_short.md)] can, on behalf of administrator, automatically create non-licensed non-interactive [!INCLUDE[prod_short](includes/prod_short.md)] Integration application user, assign security roles to this user and to deploy [!INCLUDE[prod_short](includes/prod_short.md)] Integration Solution to [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span> <span data-ttu-id="65d54-127">Cette autorisation n’est utilisée qu’une seule fois pendant la configuration de la connexion à [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="65d54-127">This permission is used only once during set up of connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span>  
> * <span data-ttu-id="65d54-128">**Avoir un accès complet à Dynamics 365 [!INCLUDE[prod_short](includes/prod_short.md)]** une autorisation est nécessaire donc [!INCLUDE[prod_short](includes/prod_short.md)] l’utilisateur d’application d’intégration créé automatiquement peut accéder aux données [!INCLUDE[prod_short](includes/prod_short.md)] qui seront synchronisées.</span><span class="sxs-lookup"><span data-stu-id="65d54-128">**Have full access to Dynamics 365 [!INCLUDE[prod_short](includes/prod_short.md)]** permission is needed so automatically created [!INCLUDE[prod_short](includes/prod_short.md)] Integration application user can access [!INCLUDE[prod_short](includes/prod_short.md)] data that will be synchronized.</span></span>  
> * <span data-ttu-id="65d54-129">Une autorisation **Connectez-vous et lisez votre profil** est nécessaire pour vérifier que l’utilisateur qui se connecte a bien le rôle de sécurité Administrateur système affecté dans [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="65d54-129">**Sign in and read your profile** permission is needed to verify user logging in actually has System Administrator security role assigned in [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span>  
>
> <span data-ttu-id="65d54-130">En donnant son consentement au nom de l’organisation, l’administrateur autorise l’application Azure enregistrée appelée [!INCLUDE[prod_short](includes/prod_short.md)] Intégration à [!INCLUDE[cds_long_md](includes/cds_long_md.md)] à synchroniser les données en utilisant les informations d’identification de l’utilisateur d’application d’intégration [!INCLUDE[prod_short](includes/prod_short.md)] automatiquement créé.</span><span class="sxs-lookup"><span data-stu-id="65d54-130">By giving consent on behalf of organization, the administrator is entitling the registered Azure application called [!INCLUDE[prod_short](includes/prod_short.md)] Integration to [!INCLUDE[cds_long_md](includes/cds_long_md.md)] to synchronize data using automatically created [!INCLUDE[prod_short](includes/prod_short.md)] Integration application user's credentials.</span></span>

### <a name="to-use-the-dataverse-connection-setup-assisted-setup-guide"></a><span data-ttu-id="65d54-131">Pour utiliser le guide de configuration assistée Paramétrage de la connexion Dataverse</span><span class="sxs-lookup"><span data-stu-id="65d54-131">To use the Dataverse Connection Setup assisted setup guide</span></span>
<span data-ttu-id="65d54-132">Le guide de configuration de connexion Dataverse peut faciliter la connexion des applications et peut même vous aider à exécuter une synchronisation initiale.</span><span class="sxs-lookup"><span data-stu-id="65d54-132">The Dataverse Connection Setup guide can make it easier to connect the applications, and can even help you run an initial synchronization.</span></span> <span data-ttu-id="65d54-133">Si vous choisissez d’exécuter la synchronisation initiale, [!INCLUDE[prod_short](includes/prod_short.md)] examinera les données des deux applications et fournira des recommandations sur la manière d’aborder la synchronisation initiale.</span><span class="sxs-lookup"><span data-stu-id="65d54-133">If you choose to run initial synchronization, [!INCLUDE[prod_short](includes/prod_short.md)] will review the data in both applications and provide recommendations for how to approach initial synchronization.</span></span> <span data-ttu-id="65d54-134">Le tableau suivant décrit les recommandations.</span><span class="sxs-lookup"><span data-stu-id="65d54-134">The following table describes the recommendations.</span></span>

|<span data-ttu-id="65d54-135">Recommandation</span><span class="sxs-lookup"><span data-stu-id="65d54-135">Recommendation</span></span>  |<span data-ttu-id="65d54-136">Description</span><span class="sxs-lookup"><span data-stu-id="65d54-136">Description</span></span>  |
|---------|---------|
|<span data-ttu-id="65d54-137">**Synchronisation complète**</span><span class="sxs-lookup"><span data-stu-id="65d54-137">**Full synchronization**</span></span>|<span data-ttu-id="65d54-138">Les données existent uniquement dans [!INCLUDE[prod_short](includes/prod_short.md)], ou seulement dans [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="65d54-138">Data exists only in [!INCLUDE[prod_short](includes/prod_short.md)], or only in [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span> <span data-ttu-id="65d54-139">La recommandation consiste à synchroniser toutes les données du service vers l’autre service.</span><span class="sxs-lookup"><span data-stu-id="65d54-139">The recommendation is to synchronize all data from the service that has it to the other service.</span></span>|
|<span data-ttu-id="65d54-140">**Aucune synchronisation**</span><span class="sxs-lookup"><span data-stu-id="65d54-140">**No synchronization**</span></span>|<span data-ttu-id="65d54-141">Les données existent dans les deux applications et une synchronisation complète dupliquerait les données.</span><span class="sxs-lookup"><span data-stu-id="65d54-141">Data exists in both applications, and running full synchronization would duplicate the data.</span></span> <span data-ttu-id="65d54-142">La recommandation consiste à coupler les enregistrements.</span><span class="sxs-lookup"><span data-stu-id="65d54-142">The recommendation is to couple records.</span></span>|
|<span data-ttu-id="65d54-143">**Dépendance non satisfaite**</span><span class="sxs-lookup"><span data-stu-id="65d54-143">**Dependency not satisfied**</span></span>|<span data-ttu-id="65d54-144">Les données existent dans les deux applications, mais la ligne ou la table ne peut pas être synchronisée, car elle dépend d’une ligne ou d’une table qui a la recommandation Aucune synchronisation.</span><span class="sxs-lookup"><span data-stu-id="65d54-144">Data exists in both applications, but the row or table cannot be synchronized because it depends on a row or table that has the No synchronization recommendation.</span></span> <span data-ttu-id="65d54-145">Par exemple, si les clients ne peuvent pas être synchronisés, les données des contacts qui dépendent des données client ne peuvent pas non plus être synchronisées.</span><span class="sxs-lookup"><span data-stu-id="65d54-145">For example, if customers cannot be synchronized, then data for contacts that depends on the customer data cannot be synchronized either.</span></span>|

> [!IMPORTANT]
> <span data-ttu-id="65d54-146">En règle générale, vous n’utilisez la synchronisation complète que lorsque vous intégrez les applications pour la première fois et qu’une seule application contient des données.</span><span class="sxs-lookup"><span data-stu-id="65d54-146">Typically, you only use full synchronization when you're integrating the applications for the first time, and only one application contains data.</span></span> <span data-ttu-id="65d54-147">La synchronisation complète peut être utile dans un environnement de démonstration, car elle crée et couple automatiquement des enregistrements dans chaque application, ce qui accélère le travail avec des données synchronisées.</span><span class="sxs-lookup"><span data-stu-id="65d54-147">Full synchronization can be useful in a demonstration environment because it automatically creates and couples records in each application, which makes it faster to start working with synchronized data.</span></span> <span data-ttu-id="65d54-148">Cependant, vous devez exécuter une synchronisation complète uniquement si vous souhaitez une ligne dans [!INCLUDE[prod_short](includes/prod_short.md)] pour chaque ligne dans [!INCLUDE[cds_long_md](includes/cds_long_md.md)] pour les mappages de table donnés.</span><span class="sxs-lookup"><span data-stu-id="65d54-148">However, you should only run full synchronization if you want one row in [!INCLUDE[prod_short](includes/prod_short.md)] for each row in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] for the table mappings.</span></span> <span data-ttu-id="65d54-149">Sinon, le résultat peut être des enregistrements en double.</span><span class="sxs-lookup"><span data-stu-id="65d54-149">Otherwise, the result can be duplicate records.</span></span>

1. <span data-ttu-id="65d54-150">Choisissez l’icône ![Ampoule qui ouvre la fonction Tell Me](media/ui-search/search_small.png "Dites-moi ce que vous voulez faire"), saisissez **Configuration assistée**, puis sélectionnez le lien associé.</span><span class="sxs-lookup"><span data-stu-id="65d54-150">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Assisted Setup**, and then choose the related link.</span></span>
2. <span data-ttu-id="65d54-151">Sélectionnez **Configurer la connexion à Microsoft Dataverse** pour lancer le guide de configuration assistée.</span><span class="sxs-lookup"><span data-stu-id="65d54-151">Choose **Set up a connection to Microsoft Dataverse** to start the assisted setup guide.</span></span>
3. <span data-ttu-id="65d54-152">Renseignez les champs selon vos besoins.</span><span class="sxs-lookup"><span data-stu-id="65d54-152">Fill in the fields as necessary.</span></span>

> [!NOTE]
> <span data-ttu-id="65d54-153">Si vous n’êtes pas invité à vous connecter avec votre compte administrateur, c’est probablement parce que les fenêtres contextuelles sont bloquées.</span><span class="sxs-lookup"><span data-stu-id="65d54-153">If you are not prompted to sign in with your administrator account, it is probably because pop-ups are blocked.</span></span> <span data-ttu-id="65d54-154">Pour vous connecter, autorisez les fenêtres contextuelles de `https://login.microsoftonline.com`.</span><span class="sxs-lookup"><span data-stu-id="65d54-154">To sign in, allow pop-ups from `https://login.microsoftonline.com`.</span></span>

### <a name="to-create-or-maintain-the-connection-manually"></a><span data-ttu-id="65d54-155">Pour créer ou conserver manuellement la connexion</span><span class="sxs-lookup"><span data-stu-id="65d54-155">To create or maintain the connection manually</span></span>

<span data-ttu-id="65d54-156">La procédure suivante décrit comment configurer manuellement la connexion sur la page **Paramétrage de la connexion Dataverse**.</span><span class="sxs-lookup"><span data-stu-id="65d54-156">The following procedure describes how to set up the connection manually on the **Dataverse Connection Setup** page.</span></span> <span data-ttu-id="65d54-157">Il s’agit également de la page sur laquelle vous gérez les paramètres pour l’intégration.</span><span class="sxs-lookup"><span data-stu-id="65d54-157">This is also the page where you manage settings for the integration.</span></span>

1. <span data-ttu-id="65d54-158">Choisissez l’icône ![Ampoule qui ouvre la fonction Tell Me](media/ui-search/search_small.png "Dites-moi ce que vous voulez faire"), saisissez **Paramétrage de la connexion Dataverse**, puis sélectionnez le lien associé.</span><span class="sxs-lookup"><span data-stu-id="65d54-158">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Dataverse Connection Setup**, and then choose the related link.</span></span>
2. <span data-ttu-id="65d54-159">Saisissez les informations suivantes pour la connexion de [!INCLUDE[cds_long_md](includes/cds_long_md.md)] vers [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="65d54-159">Enter the following information for the connection from [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span>

    |<span data-ttu-id="65d54-160">Champ</span><span class="sxs-lookup"><span data-stu-id="65d54-160">Field</span></span>|<span data-ttu-id="65d54-161">Description</span><span class="sxs-lookup"><span data-stu-id="65d54-161">Description</span></span>|
    |-----|-----|
    |<span data-ttu-id="65d54-162">**URL Environnement**</span><span class="sxs-lookup"><span data-stu-id="65d54-162">**Environment URL**</span></span>|<span data-ttu-id="65d54-163">Si vous possédez des environnements dans [!INCLUDE[cds_long_md](includes/cds_long_md.md)], nous les trouverons lorsque vous exécuterez le guide de configuration.</span><span class="sxs-lookup"><span data-stu-id="65d54-163">If you own environments in [!INCLUDE[cds_long_md](includes/cds_long_md.md)], we will find those for you when you run the setup guide.</span></span> <span data-ttu-id="65d54-164">Si vous souhaitez vous connecter à un autre environnement dans un autre abonné, vous pouvez saisir les informations d’identification administrateur pour l’environnement et nous les découvrirons.</span><span class="sxs-lookup"><span data-stu-id="65d54-164">If you want to connect to a different environment in another tenant, you can enter the administrator credentials for the environment and we will discover those.</span></span> |
    |<span data-ttu-id="65d54-165">**Activé**</span><span class="sxs-lookup"><span data-stu-id="65d54-165">**Enabled**</span></span>|<span data-ttu-id="65d54-166">Commencez avec l’intégration.</span><span class="sxs-lookup"><span data-stu-id="65d54-166">Start using the integration.</span></span> <span data-ttu-id="65d54-167">Si vous n’activez pas la connexion tout de suite, les paramètres de connexion seront sauvegardés, mais les utilisateurs ne seront pas en mesure d’accéder aux données [!INCLUDE[cds_long_md](includes/cds_long_md.md)] à partir de [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="65d54-167">If you do not enable the connection now, the connection settings will be saved but users will not be able to access [!INCLUDE[cds_long_md](includes/cds_long_md.md)] data from [!INCLUDE[prod_short](includes/prod_short.md)].</span></span> <span data-ttu-id="65d54-168">Vous pouvez revenir sur cette page et activer la connexion ultérieurement.</span><span class="sxs-lookup"><span data-stu-id="65d54-168">You can return to this page and enable the connection later.</span></span>  |

3. <span data-ttu-id="65d54-169">Dans le champ **Modèle de propriété**, choisissez si vous souhaitez une table Équipe dans [!INCLUDE[cds_long_md](includes/cds_long_md.md)] pour posséder de nouveaux enregistrements, ou un ou plusieurs utilisateurs spécifiques.</span><span class="sxs-lookup"><span data-stu-id="65d54-169">In the **Ownership Model** field, choose whether you want a team table in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] to own new records, or one or more specific users.</span></span> <span data-ttu-id="65d54-170">Si vous choisissez **Personne**, vous devez indiquer chaque utilisateur.</span><span class="sxs-lookup"><span data-stu-id="65d54-170">If you choose **Person**, you must specify each user.</span></span> <span data-ttu-id="65d54-171">Si vous choisissez **Équipe**, le centre de profit par défaut s’affiche dans le champ **Centre de profit couplé**.</span><span class="sxs-lookup"><span data-stu-id="65d54-171">If you choose **Team**, the default business unit will display in the **Coupled Business Unit** field.</span></span>

    <!--Need to verify the details in this table, are these specific to Sales maybe?  IK: No they are not and no longer relevant 
    Enter the following advanced settings.-->

   <!-- |Field|Description|
    |-----|-----|
    |**[!INCLUDE[prod_short](includes/prod_short.md)] Users Must Map to CDS Users**|If you are using the Person ownership model, specify whether [!INCLUDE[prod_short](includes/prod_short.md)] user accounts must have a matching user accounts in [!INCLUDE[cds_long_md](includes/cds_long_md.md)]. The **Microsoft 365 Authentication Email** of the [!INCLUDE[prod_short](includes/prod_short.md)] user must be the same as the **Primary Email** of the [!INCLUDE[crm_md](includes/crm_md.md)] user.<br /><br /> If you set the value to **Yes**, [!INCLUDE[prod_short](includes/prod_short.md)] users who do not have a matching [!INCLUDE[crm_md](includes/crm_md.md)] user account will not have [!INCLUDE[prod_short](includes/prod_short.md)] integration capabilities in the user interface. Access to [!INCLUDE[crm_md](includes/crm_md.md)] data directly from [!INCLUDE[prod_short](includes/prod_short.md)] is done on behalf of the [!INCLUDE[crm_md](includes/crm_md.md)] user account.<br /><br /> If you set the value to **No**, all [!INCLUDE[prod_short](includes/prod_short.md)] users will have [!INCLUDE[crm_md](includes/crm_md.md)] integration capabilities in the user interface. Access to [!INCLUDE[crm_md](includes/crm_md.md)] data is done on behalf of the [!INCLUDE[crm_md](includes/crm_md.md)] connection (integration) user.|
    |**Current Business Central Salesperson is Mapped to a User**|Indicates whether your user account is mapped to an account in [!INCLUDE[crm_md](includes/crm_md.md)] double check the name of this field-->|

4. <span data-ttu-id="65d54-172">Pour tester les paramètres de connexion, choisissez **Connexion**, puis **Tester la connexion**.</span><span class="sxs-lookup"><span data-stu-id="65d54-172">To test the connection settings, choose **Connection**, and then **Test Connection**.</span></span>  

    > [!NOTE]  
    > <span data-ttu-id="65d54-173">Si le chiffrement des données n’est pas activé dans [!INCLUDE[prod_short](includes/prod_short.md)], vous recevrez un message vous demandant si vous souhaitez l’activer.</span><span class="sxs-lookup"><span data-stu-id="65d54-173">If data encryption is not enabled in [!INCLUDE[prod_short](includes/prod_short.md)], you will be asked whether you want to enable it.</span></span> <span data-ttu-id="65d54-174">Pour activer le chiffrement des données, cliquez sur **Oui** et fournissez les informations requises.</span><span class="sxs-lookup"><span data-stu-id="65d54-174">To enable data encryption, choose **Yes** and provide the required information.</span></span> <span data-ttu-id="65d54-175">Sinon, sélectionnez **Non**.</span><span class="sxs-lookup"><span data-stu-id="65d54-175">Otherwise, choose **No**.</span></span> <span data-ttu-id="65d54-176">Vous pouvez activer le chiffrement des données ultérieurement.</span><span class="sxs-lookup"><span data-stu-id="65d54-176">You can enable data encryption later.</span></span> <span data-ttu-id="65d54-177">Pour plus d’informations, voir [Chiffrement des données dans Dynamics 365 Business Central](/dynamics365/business-central/dev-itpro/developer/devenv-encrypting-data) de l’aide sur Developer and Administration.</span><span class="sxs-lookup"><span data-stu-id="65d54-177">For more information, see [Encrypting Data in Dynamics 365 Business Central](/dynamics365/business-central/dev-itpro/developer/devenv-encrypting-data) in the developer and administration help.</span></span>  

5. <span data-ttu-id="65d54-178">Si la synchronisation de [!INCLUDE[cds_long_md](includes/cds_long_md.md)] n’est pas déjà configurée, vous recevrez un message vous demandant si vous souhaitez utiliser les paramètres de synchronisation par défaut.</span><span class="sxs-lookup"><span data-stu-id="65d54-178">If [!INCLUDE[cds_long_md](includes/cds_long_md.md)] synchronization is not already set up, you will be asked whether you want to use the default synchronization setup.</span></span> <span data-ttu-id="65d54-179">Selon que vous souhaitez conserver ou non les enregistrements alignés dans [!INCLUDE[cds_long_md](includes/cds_long_md.md)] et [!INCLUDE[prod_short](includes/prod_short.md)], sélectionnez **Oui** ou **Non**.</span><span class="sxs-lookup"><span data-stu-id="65d54-179">Depending on whether you want to keep records aligned in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] and [!INCLUDE[prod_short](includes/prod_short.md)], choose **Yes** or **No**.</span></span>
<!--
## Show Me the Process

The following video shows the steps to connect [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[cds_long_md](includes/cds_long_md.md)]. <br>
  
> [!VIDEO https://www.microsoft.com/en-us/videoplayer/embed/RE4ArlP]

-->

## <a name="connecting-on-premises-versions"></a><span data-ttu-id="65d54-180">Connexion des versions locales</span><span class="sxs-lookup"><span data-stu-id="65d54-180">Connecting On-Premises Versions</span></span>

<span data-ttu-id="65d54-181">Pour connecter [!INCLUDE[prod_short](includes/prod_short.md)] sur site à [!INCLUDE[cds_long_md](includes/cds_long_md.md)], vous devez spécifier quelques informations sur la page **Configuration de la connexion Dataverse**.</span><span class="sxs-lookup"><span data-stu-id="65d54-181">To connect [!INCLUDE[prod_short](includes/prod_short.md)] on-premises to [!INCLUDE[cds_long_md](includes/cds_long_md.md)], you must specify some information on the **Dataverse Connection Setup** page.</span></span>

<span data-ttu-id="65d54-182">Si vous souhaitez vous connecter à l’aide d’un compte Azure Active Directory (Azure AD), vous devez enregistrer une application dans Azure AD et fournir l’ID d’application, le secret Key Vault et l’URL de redirection à utiliser.</span><span class="sxs-lookup"><span data-stu-id="65d54-182">If you want to connect using an Azure Active Directory (Azure AD) account, you must register an application in Azure AD, and provide the application ID, key vault secret, and the redirect URL to use.</span></span> <span data-ttu-id="65d54-183">L’URL de redirection est pré-remplie et devrait fonctionner pour la plupart des installations.</span><span class="sxs-lookup"><span data-stu-id="65d54-183">The redirect URL is pre-populated and should work for most installations.</span></span> <span data-ttu-id="65d54-184">Vous devez configurer votre installation pour utiliser HTTPS.</span><span class="sxs-lookup"><span data-stu-id="65d54-184">You must set up your installation to use HTTPS.</span></span> <span data-ttu-id="65d54-185">Pour plus d’informations, voir [Configuration de SSL pour sécuriser la connexion du client Web Business Central](/dynamics365/business-central/dev-itpro/deployment/configure-ssl-web-client-connection).</span><span class="sxs-lookup"><span data-stu-id="65d54-185">For more information, see [Configuring SSL to Secure the Business Central Web Client Connection](/dynamics365/business-central/dev-itpro/deployment/configure-ssl-web-client-connection).</span></span> <span data-ttu-id="65d54-186">Si vous configurez votre serveur pour avoir une page d’accueil différente, vous pouvez toujours changer l’URL.</span><span class="sxs-lookup"><span data-stu-id="65d54-186">If you are setting up your server to have a different home page, you can always change the URL.</span></span> <span data-ttu-id="65d54-187">Le secret client sera enregistré sous forme de chaîne cryptée dans votre base de données.</span><span class="sxs-lookup"><span data-stu-id="65d54-187">The client secret will be saved as an encrypted string in your database.</span></span>  

### <a name="to-register-an-application-in-azure-ad-for-connecting-from-business-central-to-dataverse"></a><span data-ttu-id="65d54-188">Pour enregistrer une application dans Azure AD pour se connecter de Business Central à Dataverse</span><span class="sxs-lookup"><span data-stu-id="65d54-188">To register an application in Azure AD for connecting from Business Central to Dataverse</span></span>

<span data-ttu-id="65d54-189">Les étapes suivantes supposent que vous utilisez Azure AD pour gérer les identités et les accès.</span><span class="sxs-lookup"><span data-stu-id="65d54-189">The following steps assume that you use Azure AD to manage identities and access.</span></span> <span data-ttu-id="65d54-190">Pour plus d’informations sur l’enregistrement d’une application dans Azure AD, voir [Démarrage rapide : enregistrer une application avec la plateforme d’identité Microsoft](/azure/active-directory/develop/quickstart-register-app).</span><span class="sxs-lookup"><span data-stu-id="65d54-190">For more information about registering an application in Azure AD, see [Quickstart: Register an application with the Microsoft identity platform](/azure/active-directory/develop/quickstart-register-app).</span></span> <span data-ttu-id="65d54-191">Si vous n’utilisez pas Azure AD, voir [Utilisation d’un autre service de gestion des identités et des accès](admin-how-to-set-up-a-dynamics-crm-connection.md#using-another-identity-and-access-management-service).</span><span class="sxs-lookup"><span data-stu-id="65d54-191">If you do not use Azure AD, see [Using Another Identity and Access Management Service](admin-how-to-set-up-a-dynamics-crm-connection.md#using-another-identity-and-access-management-service).</span></span>  

1. <span data-ttu-id="65d54-192">Dans le portail Azure, sous **Gérer** dans le volet de navigation, choisissez **Authentification**.</span><span class="sxs-lookup"><span data-stu-id="65d54-192">In the Azure Portal, under **Manage** on the Navigation Pane, choose **Authentication**.</span></span>  
2. <span data-ttu-id="65d54-193">Sous **Rediriger les URL**, ajoutez l’URL de redirection suggérée sur la page de **Configuration de la connexion Dataverse** dans [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="65d54-193">Under **Redirect URLs**, add the redirect URL that is suggested on the **Dataverse Connection Setup** page in [!INCLUDE[prod_short](includes/prod_short.md)].</span></span>
3. <span data-ttu-id="65d54-194">Sous **Gérer**, choisissez **Autorisations d’API**.</span><span class="sxs-lookup"><span data-stu-id="65d54-194">Under **Manage**, choose **API permissions**.</span></span>
4. <span data-ttu-id="65d54-195">Sous **Autorisations configurées**, choisissez **Ajouter une autorisation**, puis ajoutez des autorisations déléguées sur l’onglet **API Microsoft** comme suit :</span><span class="sxs-lookup"><span data-stu-id="65d54-195">Under **Configured permissions**, choose **Add a permission**, and then add delegated permissions on the **Microsoft APIs** tab as follows:</span></span>
    * <span data-ttu-id="65d54-196">Pour Business Central, ajoutez les autorisations **Financials.ReadWrite.All**.</span><span class="sxs-lookup"><span data-stu-id="65d54-196">For Business Central, add the **Financials.ReadWrite.All** permissions.</span></span>
    * <span data-ttu-id="65d54-197">Pour Dynamics CRM, ajoutez les autorisations **user_impersonation**.</span><span class="sxs-lookup"><span data-stu-id="65d54-197">For Dynamics CRM, add the **user_impersonation** permissions.</span></span>  

    > [!NOTE]
    > <span data-ttu-id="65d54-198">Le nom de l’API Dynamics CRM peut changer.</span><span class="sxs-lookup"><span data-stu-id="65d54-198">The name of the Dynamics CRM API might change.</span></span>

5. <span data-ttu-id="65d54-199">Sous **Gérer**, choisissez **Certificats et secrets**, puis créez un nouveau secret pour votre application.</span><span class="sxs-lookup"><span data-stu-id="65d54-199">Under **Manage**, choose **Certificates & Secrets**, and then create a new secret for your app.</span></span> <span data-ttu-id="65d54-200">Vous utiliserez le secret soit dans [!INCLUDE[prod_short](includes/prod_short.md)], dans le champ **Secret client** sur la page **Configuration de la connexion Dataverse** ou stockez-le dans un stockage sécurisé et fournissez-le dans un souscripteur d’événements, comme décrit précédemment dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="65d54-200">You will use the secret either in [!INCLUDE[prod_short](includes/prod_short.md)], in the **Client Secret** field on the **Dataverse Connection Setup** page, or store in a secure storage and provide it in an event subscriber as described earlier in this topic.</span></span>
6. <span data-ttu-id="65d54-201">Choisissez **Aperçu**, puis recherchez la valeur **ID application (client)**.</span><span class="sxs-lookup"><span data-stu-id="65d54-201">Choose **Overview**, and then find the **Application (client) ID** value.</span></span> <span data-ttu-id="65d54-202">Il s’agit de l’ID client de votre application.</span><span class="sxs-lookup"><span data-stu-id="65d54-202">This is the Client ID of your application.</span></span> <span data-ttu-id="65d54-203">Vous devez le saisir soit sur la page **Configuration de la connexion Dataverse** dans le champ **ID client** ou stockez-le dans un stockage sécurisé et fournissez-le à un souscripteur d’événements.</span><span class="sxs-lookup"><span data-stu-id="65d54-203">You must enter it either on the **Dataverse Connection Setup** page in the **Client ID** field, or store it in a secure storage and provide it in an event subscriber.</span></span>
7. <span data-ttu-id="65d54-204">Dans [!INCLUDE[prod_short](includes/prod_short.md)], sur la page **Configuration de la connexion Dataverse**, dans le champ **URL Environnement**, saisissez l’URL de votre environnement [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="65d54-204">In [!INCLUDE[prod_short](includes/prod_short.md)], on the **Dataverse Connection Setup** page, in the **Environment URL** field, enter the URL for your [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environment.</span></span>
8. <span data-ttu-id="65d54-205">Pour activer la connexion à [!INCLUDE[cds_long_md](includes/cds_long_md.md)], activez le bouton bascule **Activé**.</span><span class="sxs-lookup"><span data-stu-id="65d54-205">To enable the connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)], turn on the **Enabled** toggle.</span></span>
9. <span data-ttu-id="65d54-206">Connectez-vous avec votre compte administrateur pour Azure Active Directory (ce compte doit avoir une licence valide pour [!INCLUDE[cds_long_md](includes/cds_long_md.md)] et être administrateur dans votre environnement [!INCLUDE[cds_long_md](includes/cds_long_md.md)]).</span><span class="sxs-lookup"><span data-stu-id="65d54-206">Sign in with your administrator account for Azure Active Directory (this account must have a valid license for [!INCLUDE[cds_long_md](includes/cds_long_md.md)] and be an administrator in your [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environment).</span></span> <span data-ttu-id="65d54-207">Une fois connecté, vous serez invité à autoriser votre application enregistrée à se connecter à [!INCLUDE[cds_long_md](includes/cds_long_md.md)] au nom de l’organisation.</span><span class="sxs-lookup"><span data-stu-id="65d54-207">After you sign in you will be prompted to allow your registered application to sign in to [!INCLUDE[cds_long_md](includes/cds_long_md.md)] on behalf of the organization.</span></span> <span data-ttu-id="65d54-208">Vous devez donner votre accord pour terminer la configuration.</span><span class="sxs-lookup"><span data-stu-id="65d54-208">You must give consent to complete the setup.</span></span>

   > [!NOTE]
   > <span data-ttu-id="65d54-209">Si vous n’êtes pas invité à vous connecter avec votre compte administrateur, c’est probablement parce que les fenêtres contextuelles sont bloquées.</span><span class="sxs-lookup"><span data-stu-id="65d54-209">If you are not prompted to sign in with your administrator account, it is probably because pop ups are blocked.</span></span> <span data-ttu-id="65d54-210">Pour vous connecter, autorisez les fenêtres contextuelles de `https://login.microsoftonline.com`.</span><span class="sxs-lookup"><span data-stu-id="65d54-210">To sign in, allow pop-ups from `https://login.microsoftonline.com`.</span></span>

#### <a name="using-another-identity-and-access-management-service"></a><span data-ttu-id="65d54-211">Utilisation d’un autre service de gestion des identités et des accès</span><span class="sxs-lookup"><span data-stu-id="65d54-211">Using Another Identity and Access Management Service</span></span>

<span data-ttu-id="65d54-212">Si vous n’utilisez pas Azure Active Directory pour gérer les identités et les accès, vous aurez besoin de l’aide d’un développeur.</span><span class="sxs-lookup"><span data-stu-id="65d54-212">If you are not using Azure Active Directory to manage identities and access, you will need some help from a developer.</span></span> <span data-ttu-id="65d54-213">Si vous préférez stocker l’ID d’application et le secret dans un emplacement différent, vous pouvez laisser les champs ID client et Secret client vides et écrire une extension pour récupérer l’ID et le secret depuis l’emplacement.</span><span class="sxs-lookup"><span data-stu-id="65d54-213">If you prefer to store the app ID and secret in a different location, you can leave the Client ID and Client Secret fields blank and write an extension to fetch the ID and secret from the location.</span></span> <span data-ttu-id="65d54-214">Vous pouvez fournir le secret lors de l’exécution en vous abonnant aux événements OnGetCDSConnectionClientId et OnGetCDSConnectionClientSecret dans codeunit 7201 « CDS Integration Impl. »</span><span class="sxs-lookup"><span data-stu-id="65d54-214">You can provide the secret at runtime by subscribing to the OnGetCDSConnectionClientId and OnGetCDSConnectionClientSecret events in codeunit 7201 "CDS Integration Impl."</span></span>

### <a name="to-disconnect-from-cds_long_md"></a><span data-ttu-id="65d54-215">Pour se déconnecter de [!INCLUDE[cds_long_md](includes/cds_long_md.md)]</span><span class="sxs-lookup"><span data-stu-id="65d54-215">To disconnect from [!INCLUDE[cds_long_md](includes/cds_long_md.md)]</span></span>

1. <span data-ttu-id="65d54-216">Choisissez l’icône ![Ampoule qui ouvre la fonction Tell Me](media/ui-search/search_small.png "Dites-moi ce que vous voulez faire"), saisissez **Paramétrage de la connexion Dataverse**, puis sélectionnez le lien associé.</span><span class="sxs-lookup"><span data-stu-id="65d54-216">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Dataverse Connection Setup**, and then choose the related link.</span></span>
2. <span data-ttu-id="65d54-217">Sur la page **Paramétrage de la connexion Dataverse**, désactivez le bouton bascule **Activé**.</span><span class="sxs-lookup"><span data-stu-id="65d54-217">On the **Dataverse Connection Setup** page, turn off the **Enabled** toggle.</span></span>  

## <a name="see-also"></a><span data-ttu-id="65d54-218">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="65d54-218">See Also</span></span>

[<span data-ttu-id="65d54-219">Afficher le statut d’une synchronisation</span><span class="sxs-lookup"><span data-stu-id="65d54-219">View the Status of a Synchronization</span></span>](admin-how-to-view-synchronization-status.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]